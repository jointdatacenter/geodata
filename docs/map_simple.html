<!DOCTYPE html>
<meta charset="utf-8">

<link href="https://fonts.googleapis.com/css?family=Lato:400,700&display=swap" rel="stylesheet">

<!-- Create an element where the map will take place -->
<div id="map-container" style="width: 100%; margin: 0 auto; position: relative; text-align: center;">
    <svg id="my_dataviz" width="100%" height="800"></svg>
</div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/d3/7.9.0/d3.min.js"></script>
    <script>
        const svg = d3.select("#my_dataviz"),
            container = d3.select("#map-container"),
            width = container.node().getBoundingClientRect().width,
            height = 600;

        svg.attr("width", width).attr("height", height);

        const projection = d3.geoNaturalEarth1()
            .scale((width - 50) / (2 * Math.PI))
            .translate([width / 2, height / 2]);

        const path = d3.geoPath().projection(projection);

        d3.json("unhcr190925.geojson").then(data => {
            // Filter out Antarctica
            data.features = data.features.filter(d => !/antarct/i.test(d.properties.name || ""));

            // Draw countries only (no sphere/graticule)
            svg.selectAll("path")
                .data(data.features)
                .join("path")
                .attr("d", path)
                .attr("fill", "none")
                .attr("stroke", "#333")
                .attr("stroke-width", 0.5);
        });

    </script>
</body>
</html>